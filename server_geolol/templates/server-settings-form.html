{% extends "partials/base.html" %} {% load static %} {% block content %}
    <div class="pagetitle">
      <h1>Admin's Zone</h1>
      <nav>
      </nav>
    </div><!-- End Page Title -->
    <section class="section">
      <div class="row">
        <div class="col-lg-6">

          <div class="card">
            <div class="card-body">
              <h5 class="card-title">Server Settings</h5>

              <!-- Horizontal Form -->
              <form action="" class="form-horizontal" method="post">
                {% csrf_token %}       
                <div class="row mb-3">
                  <label for="inputEmail3" class="col-sm-2 col-form-label">Riot API Key</label>
                  <div class="col-sm-10">
                    {{form.api_key}}
                  </div>
                </div>
                <div class="text-center">
                  <button type="submit" class="btn btn-primary">Submit</button>
                </div>
              </form>

            </div>
          </div>
        </div>
        <div class="col-lg-6">
          <div class="card">
            <div class="card-body">
              <h5 class="card-title">Commands</h5>
              <div class="row mb-3">
                <label class="col-sm-4 col-form-label">UPDATE ALL ELOS (USERS/PHANTOMS)</label>
                <div class="col-sm-8">
                  <button type="button" class="btn btn-info" id="updateButton" onclick="noficationMessage(25,'Update in progress!');general_update()">UPDATE</button>
                </div>
              </div>
              <hr style="margin: 20px 0px;">
              
            </div>
          </div>
        </div>
      </div>
         
    </section>

    <script type="text/javascript">
      function general_update() {
          $.ajax({
              type: 'GET',
              url: "{% url 'general-update-elo' %}",
              success: function (data) {
                  console.log(data['response']);
              },
              error: function (xhr, status, error) {
                  console.error('Erro na solicitação:', status, error);
              }
          });
      }
    </script>

{% endblock %}
